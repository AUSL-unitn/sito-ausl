(function(e){e.fn.iframePostForm=function(t){var n,r,i,s=true,o;t=e.extend({},e.fn.iframePostForm.defaults,t);if(!e("#"+t.iframeID).length){e("body").append('<iframe id="'+t.iframeID+'" name="'+t.iframeID+'" style="display:none" />')}return e(this).each(function(){i=e(this);i.attr("target",t.iframeID);i.submit(function(){s=t.post.apply(this);if(s===false){return s}o=e("#"+t.iframeID).load(function(){n=o.contents().find("body");if(t.json){r=e.parseJSON(n.text())}else{r=n.html()}t.complete.apply(this,[r]);o.unbind("load");setTimeout(function(){n.html("")},1)})})})};e.fn.iframePostForm.defaults={iframeID:"iframe-post-form",json:false,post:function(){},complete:function(e){}}})(jQuery)
